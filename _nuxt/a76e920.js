(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{235:function(e,n,t){var r=t(21);e.exports=function(e,n){if(!r(e)||e._t!==n)throw TypeError("Incompatible receiver, "+n+" required!");return e}},236:function(e,n,t){"use strict";var strong=t(237),r=t(235),o="Map";e.exports=t(238)(o,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var n=strong.getEntry(r(this,o),e);return n&&n.v},set:function(e,n){return strong.def(r(this,o),0===e?0:e,n)}},strong,!0)},237:function(e,n,t){"use strict";var r=t(27).f,o=t(77),v=t(163),l=t(55),c=t(161),_=t(162),E=t(118),d=t(164),A=t(119),f=t(24),h=t(115).fastKey,T=t(235),R=f?"_s":"size",C=function(e,n){var t,r=h(n);if("F"!==r)return e._i[r];for(t=e._f;t;t=t.n)if(t.k==n)return t};e.exports={getConstructor:function(e,n,t,E){var d=e((function(e,r){c(e,d,n,"_i"),e._t=n,e._i=o(null),e._f=void 0,e._l=void 0,e[R]=0,null!=r&&_(r,t,e[E],e)}));return v(d.prototype,{clear:function(){for(var e=T(this,n),data=e._i,t=e._f;t;t=t.n)t.r=!0,t.p&&(t.p=t.p.n=void 0),delete data[t.i];e._f=e._l=void 0,e[R]=0},delete:function(e){var t=T(this,n),r=C(t,e);if(r){var o=r.n,v=r.p;delete t._i[r.i],r.r=!0,v&&(v.n=o),o&&(o.p=v),t._f==r&&(t._f=o),t._l==r&&(t._l=v),t[R]--}return!!r},forEach:function(e){T(this,n);for(var t,r=l(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(r(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!C(T(this,n),e)}}),f&&r(d.prototype,"size",{get:function(){return T(this,n)[R]}}),d},def:function(e,n,t){var r,o,v=C(e,n);return v?v.v=t:(e._l=v={i:o=h(n,!0),k:n,v:t,p:r=e._l,n:void 0,r:!1},e._f||(e._f=v),r&&(r.n=v),e[R]++,"F"!==o&&(e._i[o]=v)),e},getEntry:C,setStrong:function(e,n,t){E(e,n,(function(e,t){this._t=T(e,n),this._k=t,this._l=void 0}),(function(){for(var e=this,n=e._k,t=e._l;t&&t.r;)t=t.p;return e._t&&(e._l=t=t?t.n:e._t._f)?d(0,"keys"==n?t.k:"values"==n?t.v:[t.k,t.v]):(e._t=void 0,d(1))}),t?"entries":"values",!t,!0),A(n)}}},238:function(e,n,t){"use strict";var r=t(12),o=t(4),v=t(29),l=t(163),meta=t(115),c=t(162),_=t(161),E=t(21),d=t(16),A=t(117),f=t(76),h=t(120);e.exports=function(e,n,t,T,R,C){var L=r[e],m=L,w=R?"set":"add",O=m&&m.prototype,N={},y=function(e){var n=O[e];v(O,e,"delete"==e||"has"==e?function(a){return!(C&&!E(a))&&n.call(this,0===a?0:a)}:"get"==e?function(a){return C&&!E(a)?void 0:n.call(this,0===a?0:a)}:"add"==e?function(a){return n.call(this,0===a?0:a),this}:function(a,b){return n.call(this,0===a?0:a,b),this})};if("function"==typeof m&&(C||O.forEach&&!d((function(){(new m).entries().next()})))){var S=new m,I=S[w](C?{}:-0,1)!=S,D=d((function(){S.has(1)})),M=A((function(e){new m(e)})),k=!C&&d((function(){for(var e=new m,n=5;n--;)e[w](n,n);return!e.has(-0)}));M||((m=n((function(n,t){_(n,m,e);var r=h(new L,n,m);return null!=t&&c(t,R,r[w],r),r}))).prototype=O,O.constructor=m),(D||k)&&(y("delete"),y("has"),R&&y("get")),(k||I)&&y(w),C&&O.clear&&delete O.clear}else m=T.getConstructor(n,e,R,w),l(m.prototype,t),meta.NEED=!0;return f(m,e),N[e]=m,o(o.G+o.W+o.F*(m!=L),N),C||T.setStrong(m,e,R),m}},239:function(e,n,t){"use strict";t(121);var r=t(78);n.a=Object(r.a)("layout")},240:function(e,n,t){"use strict";var r=t(3),o=(t(54),t(53),t(11),t(40),t(236),t(39),t(14),t(34),t(10),t(13),t(22),t(23),t(165),t(1)),v=t(116),l=t(2);function c(object,e){var n=Object.keys(object);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(object);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),n.push.apply(n,t)}return n}function _(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(n){Object(r.a)(e,n,source[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(source,n))}))}return e}var E=["sm","md","lg","xl"],d=["start","end","center"];function A(e,n){return E.reduce((function(t,r){return t[e+Object(l.B)(r)]=n(),t}),{})}var f=function(e){return[].concat(d,["baseline","stretch"]).includes(e)},h=A("align",(function(){return{type:String,default:null,validator:f}})),T=function(e){return[].concat(d,["space-between","space-around"]).includes(e)},R=A("justify",(function(){return{type:String,default:null,validator:T}})),C=function(e){return[].concat(d,["space-between","space-around","stretch"]).includes(e)},L=A("alignContent",(function(){return{type:String,default:null,validator:C}})),m={align:Object.keys(h),justify:Object.keys(R),alignContent:Object.keys(L)},w={align:"align",justify:"justify",alignContent:"align-content"};function O(e,n,t){var r=w[e];if(null!=t){if(n){var o=n.replace(e,"");r+="-".concat(o)}return(r+="-".concat(t)).toLowerCase()}}var N=new Map;n.a=o.a.extend({name:"v-row",functional:!0,props:_(_(_({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:f}},h),{},{justify:{type:String,default:null,validator:T}},R),{},{alignContent:{type:String,default:null,validator:C}},L),render:function(e,n){var t=n.props,data=n.data,o=n.children,l="";for(var c in t)l+=String(t[c]);var _=N.get(l);return _||function(){var e,n;for(n in _=[],m)m[n].forEach((function(e){var r=t[e],o=O(n,e,r);o&&_.push(o)}));_.push((e={"no-gutters":t.noGutters,"row--dense":t.dense},Object(r.a)(e,"align-".concat(t.align),t.align),Object(r.a)(e,"justify-".concat(t.justify),t.justify),Object(r.a)(e,"align-content-".concat(t.alignContent),t.alignContent),e)),N.set(l,_)}(),e(t.tag,Object(v.a)(data,{staticClass:"row",class:_}),o)}})},397:function(e,n,t){"use strict";t.r(n);var r={data:function(){return{}},head:{title:"Table Management",meta:[{hid:"description",name:"description",content:"Table Management - Marcelo Fernandes"}]}},o=t(58),v=t(75),l=t.n(v),c=t(232),_=t(239),E=t(240),component=Object(o.a)(r,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-layout",{staticClass:"post"},[t("v-flex",[t("v-row",[t("h1",[e._v("Table Management")])]),e._v(" "),t("v-row",[t("p",{staticClass:"caption"},[e._v("Date: 2020-10-02")])]),e._v(" "),t("v-row",[t("h2",[e._v("Creating Tables")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Tables can be created using the CREATE TABLE command. Examples\n        using an Oracle database:\n      ")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        CREATE TABLE TEAM"),t("br"),e._v("\n        ("),t("br"),e._v("\n          TEAM_ID CHAR(5) PRIMARY KEY,"),t("br"),e._v("\n          NAME VARCHAR2(30) NOT NULL UNIQUE,"),t("br"),e._v("\n          LOCATION VARCHAR2(50),"),t("br"),e._v("\n          EMAIL VARCHAR(70)"),t("br"),e._v("\n        );"),t("br")]),e._v(" "),t("blockquote",[e._v("\n        CREATE TABLE PLAYER"),t("br"),e._v("\n        ("),t("br"),e._v("\n          PLAYER_ID CHAR(5) PRIMARY KEY,"),t("br"),e._v("\n          FIRST_NAME VARCHAR2(30) NOT NULL,"),t("br"),e._v("\n          LAST_NAME VARCHAR2(30) NOT NULL,"),t("br"),e._v("\n          TEAM_ID CHAR(5) REFERENCES TEAM(TEAM_ID),"),t("br"),e._v("\n        );"),t("br")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Note: When using a database such as Oracle, Postgres, MySQL, etc,\n        make sure to be aware of "),t("i",[e._v("naming conventions.")])])]),e._v(" "),t("v-row",[t("h2",[e._v("Defining Constraints")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Constraints are created to preserve the data integrity in the\n        database. They are imposed on one or more columns, and can\n        be used to check the acceptability and accuracy of the data.\n      ")]),e._v(" "),t("p",[e._v("\n        There are two types of constraints:\n      ")])]),e._v(" "),t("v-row",[t("ol",[t("li",[t("b",[t("i",[e._v("Column Constraints:")])]),e._v(" Defined along with the column\n          definition in a CREATE TABLE statement.\n        ")]),e._v(" "),t("li",[t("b",[t("i",[e._v("Table Constraints:")])]),e._v(" Defined at the end of the table\n          definition after listing all the columns. Tables with multiple\n          primary keys should be defined at the of the table definition\n          as a table constraint.\n        ")])])]),e._v(" "),t("v-row",[t("p",[e._v("Some commonly used constraints are:")])]),e._v(" "),t("v-row",[t("ol",[t("li",[t("b",[t("i",[e._v("PRIMARY KEY")])])]),e._v(" "),t("li",[t("b",[t("i",[e._v("UNIQUE")])])]),e._v(" "),t("li",[t("b",[t("i",[e._v("NOT NULL")])])]),e._v(" "),t("li",[t("b",[t("i",[e._v("REFERENCES table(column)")])])]),e._v(" "),t("li",[t("b",[t("i",[e._v("ON DELETE CASCADE")])])]),e._v(" "),t("li",[t("b",[t("i",[e._v("ON DELETE SET NULL")])])]),e._v(" "),t("li",[t("b",[t("i",[e._v("DEFAULT value")])])]),e._v(" "),t("li",[t("b",[t("i",[e._v("CHECK (condition)")])])])]),e._v(" "),t("br")]),e._v(" "),t("v-row",[t("p",[e._v("\n        This is how it would look in a CREATE TABLE statement:\n      ")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        CREATE TABLE MOCK_TABLE"),t("br"),e._v("\n        ("),t("br"),e._v("\n          COL1 CHAR(5) PRIMARY KEY,"),t("br"),e._v("\n          COL2 NUMBER(10) NOT NULL,"),t("br"),e._v("\n          COL3 VARCHAR2(5) REFERENCES TEST(COL3) ON \n        DELETE CASCADE,"),t("br"),e._v("\n          COL4 DATE DEFAULT SYSDATE,"),t("br"),e._v("\n          COL5 UNIQUE,"),t("br"),e._v("\n          COL6 NUMBER(4) CHECK (COL6 > 100)"),t("br"),e._v("\n        );\n      ")]),e._v(" "),t("blockquote",[e._v("\n        CREATE TABLE MOCK_TABLE"),t("br"),e._v("\n        ("),t("br"),e._v("\n          COL1 CHAR(5),"),t("br"),e._v("\n          COL2 NUMBER(10) NOT NULL,"),t("br"),e._v("\n          COL3 VARCHAR2(5)"),t("br"),e._v("\n          COL4 DATE DEFAULT SYSDATE,"),t("br"),e._v("\n          COL5 UNIQUE,"),t("br"),e._v("\n          COL6 NUMBER(4) CHECK (COL6 > 100),"),t("br"),e._v("\n          CONSTRAINT MOCK_TABLE_PK PRIMARY KEY (COL1),"),t("br"),e._v("\n          CONSTRAINT MOCK_TABLE_FK FOREIGN KEY (COL3) REFERENCES\n        TEST(COL3),"),t("br"),e._v("\n          CONSTRAINT COL5_UPPERCASE CHECK (COl5 = UPPER(COL5))"),t("br"),e._v("\n        );\n      ")])]),e._v(" "),t("v-row",[t("p",[t("br"),e._v("\n        As a tip to organise your database, you might want to define\n        all your tables without any foreign keys and then create them\n        at the end using the ALTER command:\n      ")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        ALTER TABLE PLAYER"),t("br"),e._v("\n        ADD FOREIGN KEY (TEAM_ID) REFERENCES TEAM(TEAM_ID)\n      ")])]),e._v(" "),t("v-row",[t("h2",[e._v("Modifying Tables")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Table attributes can be added, modified, or deleted. The same\n        is valid for table constraints.\n      ")]),e._v(" "),t("p",[e._v("\n        A few examples using the ALTER TABLE command:\n      ")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        ALTER TABLE tableName + (one of the below)\n      ")]),e._v(" "),t("ol",[t("li",[t("blockquote",[e._v("\n            ADD columnName VARCHAR2(30) NOT NULL\n          ")])]),e._v(" "),t("li",[t("blockquote",[e._v("\n            DROP columnName [RESTRICT | CASCADE]\n          ")])]),e._v(" "),t("li",[t("blockquote",[e._v("\n            ALTER columnName SET DEFAULT defaultOption\n          ")])]),e._v(" "),t("li",[t("blockquote",[e._v("\n            ALTER columnName DROP DEFAULT\n          ")])]),e._v(" "),t("li",[t("blockquote",[e._v("\n            ADD CONSTRAINT constraintName tableConstraintDefinition\n          ")])]),e._v(" "),t("li",[t("blockquote",[e._v("\n            DROP CONSTRAINT constraintName [RESTRICT | CASCADE]\n          ")])]),e._v(" "),t("li",[t("blockquote",[e._v("\n            DISABLE CONSTRAINT constraintName\n          ")])]),e._v(" "),t("li",[t("blockquote",[e._v("\n            ENABLE constraintName\n          ")])]),e._v(" "),t("li",[t("blockquote",[e._v("\n            RENAME constraintName TO newConstraintName\n          ")])])])]),e._v(" "),t("v-row",[t("p",[e._v('A few "real world" examples:')])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        ALTER TABLE PLAYER ADD PRIMARY KEY (ID);\n      ")]),e._v(" "),t("blockquote",[e._v("\n        ALTER TABLE PLAYER ADD CHECK(SALARY > 0);\n      ")]),e._v(" "),t("blockquote",[e._v("\n        ALTER TABLE PLAYER ADD FOREIGN_KEY(TEAM_ID) REFERENCES TEAM(ID);\n      ")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Ultimately, tables can also be completely deleted with the\n        DROP TABLE command. Be aware that tables with child tables might\n        require a CASCADE operation.\n      ")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        DROP TABLE TEAM CASCADE CONSTRAINTS;\n      ")])]),e._v(" "),t("v-row",[t("h2",[e._v("Indexes")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Indexes are used to increase the performance of database queries.\n        Some advantages and disadvantages are listed below:\n      ")])]),e._v(" "),t("v-row",[t("h4",[e._v("Advantages")])]),e._v(" "),t("v-row",[t("ol",[t("li",[e._v("\n          Speeds up SELECT queries\n        ")]),e._v(" "),t("li",[e._v("\n          They can be used for sorting\n        ")]),e._v(" "),t("li",[e._v("\n          Unique indexes guarantee uniquely identifiable records in\n          the database\n        ")])])]),e._v(" "),t("v-row",[t("h4",[e._v("Disadvantages")])]),e._v(" "),t("v-row",[t("ol",[t("li",[e._v("\n          Take additional disk space\n        ")]),e._v(" "),t("li",[e._v("\n          Slow down INSERT, UPDATE, and DELETE operations. But it can\n          speed up an UPDATE query if the WHERE condition has an indexed\n          field.\n        ")])])]),e._v(" "),t("v-row",[t("p",[e._v("Indexes can be created using the CREATE INDEX statement:")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        CREATE INDEX PNAME ON PLAYER(NAME);\n      ")])]),e._v(" "),t("v-row",[t("p",[e._v("Or dropped using DROP INDEX")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        DROP INDEX PNAME;\n      ")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Unique indexes can also be added to ensure uniqueness of\n        non-primary data. The benefit of using unique indexes versus\n        UNIQUE constraint is that the index not only will guarantee\n        data uniqueness but will also speed up queries\n      ")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        CREATE UNIQUE INDEX PNICKNAME ON PLAYER(NICKNAME);\n      ")])]),e._v(" "),t("v-row",[t("h4",[e._v("Rules of Thumb")])]),e._v(" "),t("v-row",[t("p",[e._v("Only create an index if:")])]),e._v(" "),t("v-row",[t("ol",[t("li",[e._v("\n          A table is large\n        ")]),e._v(" "),t("li",[e._v("\n          A column is likely to appear in the WHERE clause or\n          ORDER BY clause.\n        ")]),e._v(" "),t("li",[e._v("\n          A column has values which each occur in fewer than 20% of the\n          rows\n        ")]),e._v(" "),t("li",[e._v("\n          Multiple columns are continually referenced together\n          (concatenated index on multiple columns)\n        ")]),e._v(" "),t("li",[e._v("\n          All the column values are distinct (unique index)\n        ")]),e._v(" "),t("li",[e._v("\n          The table is to be used primarily for queries (data retrieval)\n        ")])])]),e._v(" "),t("v-row",[t("h2",[e._v("Sequences")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Sequences are particularly useful to help data entry, especially\n        in the primary key column. The primary key must have a unique value,\n        and more often than not, to be sequential. Manually ensuring\n        uniqueness on a PK is very time-consuming and may lead to future\n        flaws.\n      ")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Sequences can be created using the CREATE SEQUENCE command:\n      ")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        CREATE SEQUENCE testseq;\n      ")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        CREATE SEQUENCE testseq"),t("br"),e._v("\n        START WITH 777"),t("br"),e._v("\n        INCREMENT BY 22"),t("br"),e._v("\n        MAXVALUE 100000"),t("br"),e._v("\n        CYCLE"),t("br")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Once created, an index can be used in an INSERT statement\n      ")])]),e._v(" "),t("v-row",[t("blockquote",[e._v("\n        INSERT INTO PLAYER VALUES"),t("br"),e._v("\n        (testseq.NEXTVAL, 'Ronaldo', 'Real Madrid', 7);\n      ")])]),e._v(" "),t("v-row",[t("p",[e._v("Note: NEXTVAL initialises the sequence or generate the next value.\n      CURRVAL returns the current sequence value, but it only works if\n      you already called NEXTVAL during the current user session.")])]),e._v(" "),t("v-row",[t("h2",[e._v("Copying a Table")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        There are 3 ways to create a new table from an existing table:\n      ")])]),e._v(" "),t("v-row",[t("ol",[t("li",[e._v("\n          Create a new structure and only copy the data. In this case,\n          define the structure using the CREATE TABLE clause and then\n          add the data from the previous table using a SELECT query\n          in an INSERT statement. Make sure that the new table has the\n          same data types from the columns you are fetching data from."),t("br"),e._v(" "),t("blockquote",[e._v("\n            INSERT INTO TOP_SCORERS"),t("br"),e._v("\n            SELECT FIRST_NAME, LAST_NAME, TEAM_ID, GOALS"),t("br"),e._v("\n            FROM PLAYER"),t("br"),e._v("\n            WHERE GOALS > 100;"),t("br")])]),e._v(" "),t("li",[e._v("\n          Copy the structure and the data. In this case, omit the column\n          definitions in the CREATE TABLE STATEMENT and then use a \n          SELECT statement to fill in the data"),t("br"),e._v(" "),t("blockquote",[e._v("\n            CREATE TABLE PLAYER_COPY AS (SELECT * FROM INSTRUCTOR);\n          ")])]),e._v(" "),t("li",[e._v("\n          Copy only the structure. In this case, omit the column definitions\n          in the CREATE TABLE statement and then use\n          use a SELECT statement with a WHERE clause that is never going\n          to be true, like 1=2."),t("br"),e._v(" "),t("blockquote",[e._v("\n            CREATE TABLE PLAYER_STRUCT AS (SELECT * FROM PLAYER WHERE 1=2);\n          ")])])])]),e._v(" "),t("v-row",[t("h2",[e._v("Transactions")])]),e._v(" "),t("v-row",[t("p",[e._v("\n        A transaction is the representation of a logical unit of work\n        for the database. Transactions can be initiated by any SQL\n        statement, and for a transaction to be successful, all the\n        tasks within the transaction need to be completed successfully.\n      ")]),e._v(" "),t("p",[e._v('\n        The default transaction mode is "auto-commit". It will commit\n        each transaction as soon as possible after the user executes\n        each query. Multi-user database applications will require more\n        control over transactions to make sure that data in the database\n        isn\'t duplicated or to prevent data inconsistencies.\n      ')]),e._v(" "),t("p",[e._v("\n        COMMIT statements can be used to save changes immediately during\n        the active session.\n      ")]),e._v(" "),t("p",[e._v("\n        ROLLBACK statements can be used to reverse the changes made since\n        the last COMMIT statement, or in the active session.\n      ")])]),e._v(" "),t("v-row",[t("p",[e._v("Rules of thumb:")])]),e._v(" "),t("v-row",[t("ol",[t("li",[e._v("\n          Before starting updates for a transaction, COMMIT any previous\n          updates\n        ")]),e._v(" "),t("li",[e._v("\n          Complete the updates for the transaction, if the transaction\n          can't be completed use ROLLBACK, otherwise use COMMIT\n        ")])])]),e._v(" "),t("v-row",[t("p",[e._v("\n        Note that COMMIT makes the data changes in a transaction permanent.\n        Running a ROLLBACK straight after a COMMIT cannot reverse that\n        update\n      ")]),e._v(" "),t("p",[e._v("\n        Also keep in mind that ROLLBACK will only reverse data changes but\n        won't reverse (delete) any database objects created/altered using\n        CREATE, ALTER, and DROP.\n      ")])])],1)],1)}),[],!1,null,"462250fb",null);n.default=component.exports;l()(component,{VFlex:c.a,VLayout:_.a,VRow:E.a})}}]);